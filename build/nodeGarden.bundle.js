!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/build/",e(e.s=2)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return/^\d+(.\d+)?(?:px)?$/.test(t)&&s}function r(t){return/^\d+(.\d+)?%$/.test(t)&&u}function s(t,e){return e}function u(t,e,n){var i=t.parentNode;return parseFloat(getComputedStyle(i)[n])*parseFloat(e)/100}function d(t){return(r(t.height)||a(t.height))&&(r(t.width)||a(t.width))}function h(t,e,n){var i="canvas-bgColor",o=document.createElement("style"),a=void 0;if(t.classList.add(i),Array.isArray(e)){var r="@keyframes bgAnimate{",s=e.length,u=100/s;e.push(e[0]);for(var d=0;d<=s;d++)r+=d*u+"%{background:"+e[d]+"}";r+="}",a=r+"."+i+"{animation: bgAnimate "+(s-1)*n+"s infinite forwards}"}else a="."+i+"{background:"+e+"}";o.innerText=a,document.head.appendChild(o)}Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(1),p=i(l),v=function(){function t(){o(this,t),this.defaultOptions={width:"100%",height:"100%",nodeCount:30,nodeColor:"#fff",opacity:.6,bgColor:["#6cbb6c","#8fb0ff","#ff8f8f"],bgSpeed:2,nodeRadius:function(){return 8*Math.random()+7},lineLength:350,speed:function(){return 1*Math.random()-.5},mouseNode:!0},this.data={canvas:null,ctx:null,options:null,temp:{},mousePosition:{}}}return f(t,[{key:"init",value:function(t,e){if(!t||1!==t.nodeType||"CANVAS"!==t.tagName)throw new Error("初始化元素必须为canvas");this.data.canvas=t,this.data.ctx=t.getContext("2d"),this.data.options=c({},this.defaultOptions,e);var n=this.data.options,i=n.speed,o=n.nodeRadius;"number"==typeof i&&(this.data.options.speed=function(){return i}),"number"==typeof o&&(this.data.options.nodeRadius=function(){return o}),this.resizeCanvas().setBgGround().start()}},{key:"resizeCanvas",value:function(){var t=this.data,e=t.options,n=t.canvas,i=e.width,o=e.height;if(!d(e))throw new Error("无效的宽高");var s=a(i)||r(i);a(o)||r(o);return n.width=s(n,i,"width"),n.height=s(n,o,"height"),this}},{key:"start",value:function(){for(var t=this.data,e=t.options,n=t.ctx,i=t.canvas,o=t.mousePosition,a=e.nodeCount,r=e.nodeColor,s=e.nodeRadius,u=e.lineLength,d=e.speed,h=e.opacity,c=e.mouseNode,f=.05,l=[],v=0;v<a;v++)l.push(new p.default(n,{radius:s(),color:r,x:Math.random()*i.width,y:Math.random()*i.height,opacity:h,speedX:d(),speedY:d()}));c&&this.addMouseNode(l),function t(){n.clearRect(0,0,i.width,i.height),l.forEach(function(t,e,i){var r=i.slice(e+1);if(c&&l.length===a+1){var s=l[a],d=o.x-s.x,h=o.y-s.y,p=Math.sqrt(d*d+h*h),v=Math.atan2(h,d);s.speedX=p*Math.cos(v)*f,s.speedY=p*Math.sin(v)*f}t.move().draw(n),r.forEach(function(e){var n=t.x-e.x,i=t.y-e.y;Math.sqrt(n*n+i*i)<u&&t.linkTo(e)})}),window.requestAnimationFrame(t)}()}},{key:"addMouseNode",value:function(t){var e=this.data,n=e.ctx,i=e.options,o=e.canvas,a=e.mousePosition,r=i.nodeColor,s=i.opacity,u=i.nodeCount,d=null,h=new p.default(n,{radius:10,color:r,x:-10,y:-10,opacity:s});o.addEventListener("mouseenter",function(e){h.x===-10&&(e.offsetX<h.radius?h.x=h.radius+2:e.offsetX>o.width-h.radius?h.x=o.width-h.radius-2:h.x=e.offsetX),h.y===-10&&(e.offsetY<h.radius?h.y=h.radius+2:e.offsetY>o.height-h.radius?h.y=o.height-h.radius-2:h.y=e.offsetY),clearTimeout(d),h.speedX=h.speedY=0,h.opacity=s,u===t.length&&t.push(h)}),o.addEventListener("mousemove",function(t){a.x=t.offsetX,a.y=t.offsetY}),o.addEventListener("mouseleave",function(){!function e(){d=setTimeout(function(){h.opacity-=.05,h.opacity<=0?(t.length-=1,h.x=-10,h.y=-10):e()},100)}()})}},{key:"setBgGround",value:function(){var t=this.data,e=t.canvas,n=t.options;return h(e,n.bgColor,n.bgSpeed),this}}]),t}();window.NodeGarden=v,e.default=v},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e,n){var o=n.x,a=void 0===o?0:o,r=n.y,s=void 0===r?0:r,u=n.color,d=void 0===u?"#ff0000":u,h=n.speedX,c=void 0===h?0:h,f=n.speedY,l=void 0===f?0:f,p=n.radius,v=void 0===p?5:p,y=n.opacity,g=void 0===y?1:y;i(this,t),this.ctx=e,this.x=a,this.y=s,this.color=d,this.opacity=g,this.radius=v,this.speedX=c,this.speedY=l}return o(t,[{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.ctx;t.save(),t.fillStyle=this.color,t.lineWidth=0,t.globalAlpha=this.opacity,t.translate(this.x,this.y),t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI,!1),t.closePath(),t.fill(),t.restore()}},{key:"move",value:function(){return this.boundaryCheck(),this.x+=this.speedX,this.y+=this.speedY,this}},{key:"boundaryCheck",value:function(){var t=this.ctx.canvas,e=this.radius,n=void 0,i=void 0;(this.x<=this.radius&&(n=e)||this.x+this.radius>=t.width&&(n=t.width-this.radius))&&(this.x=n,this.speedX=-this.speedX),(this.y<=this.radius&&(i=e)||this.y+this.radius>=t.height&&(i=t.height-this.radius))&&(this.y=i,this.speedY=-this.speedY)}},{key:"linkTo",value:function(t){var e=this.ctx;e.save(),e.beginPath(),e.lineWidth=1,e.translate(.5,.5),e.strokeStyle=this.color,e.globalAlpha=.2,e.moveTo(this.x,this.y),e.lineTo(t.x,t.y),e.closePath(),e.stroke(),e.restore()}}]),t}();e.default=a},function(t,e,n){n(0),t.exports=n(0)}]);